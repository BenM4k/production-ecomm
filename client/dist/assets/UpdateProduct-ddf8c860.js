import{e as g,u as j,b as f,r as u,a5 as v,j as e,W as b,g as F,h as y}from"./index-4eddcbba.js";import{g as c}from"./Modal-55d8fc81.js";import"./CloseButton-9cc44bcb.js";const E=({product:r,closeFn:p})=>{var l,d;const i=g(),n=(d=(l=j(f))==null?void 0:l.data)==null?void 0:d.categories,[t,o]=u.useState(r),s=a=>{o({...t,[a.target.name]:a.target.value})},[h]=v(),x=a=>{a.preventDefault();try{h({...t,price:parseFloat(t.price)}).unwrap(),o({name:"",price:0,image:"",description:"",category_id:""}),p(null),i(F(`Updated product ${t.name} successfully`))}catch(m){i(y(m.message)),console.log(m)}};return u.useEffect(()=>{o(r)},[r]),e.jsxs("div",{className:"update-product",children:[e.jsxs("h3",{children:["Update Product: ",r.name]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(c,{name:"name",type:"text",value:t.name,onChange:s})]}),e.jsxs("label",{htmlFor:"price",children:["Price",e.jsx(c,{name:"price",type:"number",value:t.price,onChange:s})]}),e.jsxs("label",{htmlFor:"image",children:["Image",e.jsx(c,{name:"image",type:"text",value:t.image,onChange:s})]}),e.jsxs("label",{htmlFor:"description",children:["Description",e.jsx(b,{name:"description",type:"text",value:t.description,onChange:s})]}),e.jsxs("select",{name:"category_id",id:"",onChange:s,value:t.category_id,children:[e.jsx("option",{value:"default",children:"Select a category"}),n==null?void 0:n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx("button",{className:"btn-two",children:"Update Product"})]})]})};export{E as default};
