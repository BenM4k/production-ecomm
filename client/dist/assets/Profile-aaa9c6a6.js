import{F as o,c as x,u as a,n as j,s as u,H as m,j as s,N as g,I as p,J as f,f as N}from"./index-9663d4db.js";const _=()=>{var l;const n=o(),t=x(),c=(l=a(j).data)==null?void 0:l.orders,r=a(u),i=c.filter(e=>e.user_id===r.id),{refetch:d}=m(),h=async()=>{try{await d(),t(p()),n("/login"),t(f("Logged out"))}catch(e){t(N(e.message)),console.log(e)}};return s.jsxs("div",{children:[s.jsx("h1",{children:"Profile"}),s.jsx("h3",{children:r.first_name}),s.jsx("h3",{children:r.last_name}),s.jsx("h3",{children:r.email}),s.jsx("button",{type:"button",onClick:h,children:"Logout"}),s.jsxs("div",{className:"user-orders",children:[s.jsx("h2",{children:"My orders"}),s.jsx("ul",{children:i.length?i==null?void 0:i.map(e=>s.jsxs("li",{className:"order-list",children:[s.jsxs("div",{className:"order-id flex-center",children:[s.jsx("h4",{children:"id"}),s.jsx(g,{to:`/order/${e.id}`,children:e.id})]}),s.jsxs("div",{className:"order-address flex-center",children:[s.jsx("h4",{children:"Address"}),s.jsx("p",{children:e.Shipping[0].address})]}),s.jsxs("div",{className:"order-address flex-center",children:[s.jsx("h4",{children:"Tracking_number"}),s.jsx("p",{children:e.Shipping[0].tracking_number})]}),s.jsxs("div",{className:"order-status flex-center",children:[s.jsx("h4",{children:"Status"}),s.jsx("p",{children:e.order_status})]}),s.jsxs("div",{className:"order-total flex-center",children:[s.jsx("h4",{children:"Total"}),s.jsxs("p",{children:["$",e.total_amount]})]})]},e==null?void 0:e.id)):s.jsx("h4",{children:"No available orders"})})]})]})};export{_ as default};
