import{f as j,u as g,b as f,r as p,Y as v,j as e,O as C,z as F,C as b}from"./index-1d193954.js";import{F as c}from"./FirstInput-a12c229a.js";import{C as y}from"./CloseButton-2cb4cbfb.js";const S=({product:r,closeFn:i})=>{var d,m;const l=j(),n=(m=(d=g(f))==null?void 0:d.data)==null?void 0:m.categories,[t,o]=p.useState(r),s=a=>{o({...t,[a.target.name]:a.target.value})},[h]=v(),x=a=>{a.preventDefault();try{h({...t,price:parseFloat(t.price)}).unwrap(),o({name:"",price:0,image:"",description:"",category_id:""}),i(null),l(F(`Updated product ${t.name} successfully`))}catch(u){l(b(u.message)),console.log(u)}};return p.useEffect(()=>{o(r)},[r]),e.jsxs("div",{children:[e.jsx("div",{className:"close-prod",children:e.jsx(y,{closeFn:()=>i(null)})}),e.jsxs("h2",{children:["Update Product: ",r.name]}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(c,{name:"name",type:"text",value:t.name,onChange:s})]}),e.jsxs("label",{htmlFor:"price",children:["Price",e.jsx(c,{name:"price",type:"number",value:t.price,onChange:s})]}),e.jsxs("label",{htmlFor:"image",children:["Image",e.jsx(c,{name:"image",type:"text",value:t.image,onChange:s})]}),e.jsxs("label",{htmlFor:"description",children:["Description",e.jsx(C,{name:"description",type:"text",value:t.description,onChange:s})]}),e.jsxs("select",{name:"category_id",id:"",onChange:s,value:t.category_id,children:[e.jsx("option",{value:"default",children:"Select a category"}),n==null?void 0:n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx("button",{className:"btn-two",children:"Update Product"})]})]})};export{S as default};
