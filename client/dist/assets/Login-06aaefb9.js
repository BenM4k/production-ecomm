import{r as o,t as f,v,u as S,w as b,x as y,f as C,j as e,y as E,z as L,C as r}from"./index-1d193954.js";const q=()=>{var d,p;const[n,i]=o.useState(""),[l,c]=o.useState(""),[h,g]=o.useState(null),m=f(),x=((p=(d=v().state)==null?void 0:d.from)==null?void 0:p.pathname)||"/",u=S(b),[j]=y(),s=C(),w=async a=>{a.preventDefault();try{const t=await j({email:n,password:l}).unwrap();s(E({...t,email:n})),i(""),c(""),g(""),m(x,{replace:!0}),s(L("Welcome"))}catch(t){t.data?t.data.message?s(r(t.data.message)):t.data.type?s(r("Add valid email and/or password")):s(r("Something went wrong")):s(r("No server response"))}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Login"}),e.jsx("h3",{children:u||""}),e.jsxs("form",{onSubmit:w,children:[e.jsx("h3",{children:h}),e.jsx("label",{children:"email"}),e.jsx("input",{type:"text",value:n,onChange:a=>i(a.target.value),required:!0}),e.jsx("label",{htmlFor:"",children:"password"}),e.jsx("input",{type:"password",onChange:a=>c(a.target.value),value:l,required:!0}),e.jsx("button",{children:"Sign in"}),e.jsx("br",{})]})]})};export{q as default};
