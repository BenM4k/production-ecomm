import{H as U,I as f,J as z,K as l,j as a,u as j,E as M,r as S,y as C,e as F,P as T,g as E,h as I,R as L}from"./index-1bee27aa.js";import{C as _}from"./CloseButton-4832f0e7.js";const i="/api/v1/users",h=U(),H=h.getInitialState(),p=f.injectEndpoints({endpoints:t=>({getUsers:t.query({query:()=>i,providesTags:e=>{if(e&&Array.isArray(e.users)){const r=e.users.map(s=>s.id);return[{type:"user",id:"LIST"},...r.map(s=>({type:"user",id:s}))]}else return{type:"user",id:"LIST"}}}),getUser:t.query({query:e=>`${i}/${e}`,providesTags:(e,r,s)=>[{type:"user",id:s}]}),addUser:t.mutation({query:e=>({url:i,method:"POST",body:{...e}}),invalidatesTags:[{type:"user",id:"LIST"}]}),updateUser:t.mutation({query:e=>({url:`${i}/${e.id}`,method:"PUT",body:{...e}}),invalidatesTags:[{type:"user",id:"LIST"}]}),deleteUser:t.mutation({query:e=>({url:`${i}/${e}`,method:"DELETE",body:{id:e}}),invalidatesTags:e=>[{type:"user",id:e.id}]})})}),{useAddUserMutation:b,useDeleteUserMutation:q,useGetUsersQuery:w,useGetUserQuery:R,useUpdateUserMutation:A}=p,D=p.endpoints.getUsers.select(),B=z(D,t=>t.data);h.getSelectors(t=>B(t)??H);function P(t){return l({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}}]})(t)}function $(t){return l({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(t)}function k(t){return l({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function O(t){return l({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(t)}function G(t){return l({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(t)}function Q(t){return l({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}const J=({type:t,buttonFn:e,children:r})=>a.jsx(a.Fragment,{children:a.jsx("button",{className:"secondary-btn",type:t,onClick:e?()=>e():null,children:r})}),m=({id:t,name:e,type:r,value:s,onChange:n})=>a.jsx("input",{id:t,name:e,className:"first-input",type:r,value:s,onChange:n,required:!0}),K=({setId:t,user:e})=>{const r=j(M),[s,n]=S.useState({id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,role:e.role}),v=["ADMIN","USER"],d=C(),u=F(),[g]=A(),o=c=>{n({...s,[c.target.name]:c.target.value})},y=async c=>{c.preventDefault(),s.first_name,e.first_name;try{await g(s).unwrap(),u(E("User updated successfully")),t(null)}catch(x){u(I(x.message))}};return a.jsxs("div",{className:"update-user",children:[a.jsxs("h3",{children:["Update user ",e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),a.jsxs("form",{onSubmit:y,children:[a.jsxs("label",{htmlFor:"first_name",children:["First name",a.jsx(m,{type:"text",name:"first_name",value:s.first_name,onChange:o})]}),a.jsxs("label",{htmlFor:"last_name",children:["Last name",a.jsx(m,{type:"text",name:"last_name",value:s.last_name,onChange:o})]}),a.jsxs("label",{htmlFor:"email",children:["Email",a.jsx(m,{type:"text",name:"email",value:s.email,onChange:o})]}),r.role==="ADMIN"&&!(d!=null&&d.pathname.includes("profile"))&&a.jsxs("label",{htmlFor:"role",children:["Role",a.jsx("select",{name:"role",id:"role",value:s.role,onChange:o,children:v.map(c=>a.jsx("option",{value:c,children:c},c))})]}),a.jsx(T,{children:"Update"})]})]})},W=({isOpen:t,onClose:e,children:r})=>{const s=n=>{n.target===n.currentTarget&&e()};return t?L.createPortal(a.jsx("div",{className:"modal-overlay",onClick:s,children:a.jsxs("div",{className:"modal-content",children:[a.jsx(_,{closeFn:e}),r]})}),document.getElementById("portal")):null};export{Q as F,W as M,J as S,K as U,P as a,O as b,$ as c,q as d,k as e,G as f,m as g,D as s,w as u};
