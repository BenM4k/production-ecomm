import{V as S,u as j,D as f,r as d,b as C,j as e,O as D,_ as A,d as E,W as T,N as U,P as q}from"./index-1d193954.js";import{a as L,S as R,b as k}from"./Admin-f64758ba.js";import{F as p}from"./FirstInput-a12c229a.js";const w=()=>{var u,g,b;const[c]=S(),t=j(f),[n,o]=d.useState({seller_id:(u=t==null?void 0:t.Seller[0])==null?void 0:u.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""}),r=d.useCallback(i=>{const{name:h,value:l}=i.target;o(x=>({...x,[h]:l}))},[]),a=d.useMemo(()=>n,[n]),m=i=>{var h;i.preventDefault();try{const{seller_id:l,name:x,price:v,image:y,quantity:P,description:F,category_id:_}=n,N={seller_id:l,name:x,price:Number(v),image:y,quantity:P,description:F,category_id:_};c(N).unwrap(),o({seller_id:(h=t==null?void 0:t.Seller[0])==null?void 0:h.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""})}catch(l){console.log(l)}},s=(b=(g=j(C))==null?void 0:g.data)==null?void 0:b.categories;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Upload a Product"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(p,{name:"name",type:"text",value:a.name,onChange:r})]}),e.jsxs("label",{htmlFor:"price",children:["Price",e.jsx(p,{name:"price",type:"number",value:a.price,onChange:r})]}),e.jsxs("label",{htmlFor:"image",children:["Image",e.jsx(p,{name:"image",type:"text",value:a.image,onChange:r})]}),e.jsxs("label",{htmlFor:"description",children:["Description",e.jsx(D,{name:"description",type:"text",value:a.description,onChange:r,required:!0})]}),e.jsxs("select",{name:"category_id",id:"",onChange:r,value:a.category_id,children:[e.jsx("option",{value:"default",children:"Select a category"}),s==null?void 0:s.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx("button",{className:"btn-two",children:"Add Product"})]})]})},I=d.lazy(()=>A(()=>import("./UpdateProduct-7864d031.js"),["assets/UpdateProduct-7864d031.js","assets/index-1d193954.js","assets/index-b7b5005d.css","assets/FirstInput-a12c229a.js","assets/CloseButton-2cb4cbfb.js"])),O=()=>{var a,m;const[c,t]=d.useState(null),n=(m=(a=j(E))==null?void 0:a.data)==null?void 0:m.products,[o]=T(),r=s=>{try{o(s).unwrap()}catch(u){console.log(u)}};return e.jsx("div",{className:"admin-prods",children:e.jsxs("div",{className:"products-body",children:[e.jsxs("div",{className:"dash-head",children:[e.jsx("h2",{children:"Products List"}),e.jsx("ul",{children:n==null?void 0:n.map(s=>e.jsxs("li",{children:[e.jsxs("div",{className:"details",children:[e.jsx(U,{to:`/products/${s.id}`,children:e.jsx("p",{children:s.name})}),e.jsxs("span",{children:["$",s.price]})]}),e.jsxs("div",{className:"buttons",children:[e.jsx(q,{buttonFn:()=>t(s),children:e.jsx(L,{})}),e.jsx(R,{buttonFn:()=>r(s==null?void 0:s.id),children:e.jsx(k,{})})]})]},s.id))})]}),e.jsx("div",{className:"add-product",children:c?e.jsx(d.Suspense,{fallback:e.jsx("h1",{children:"Loading..."}),children:e.jsx(I,{product:c,closeFn:t})}):e.jsx(w,{})})]})})};export{O as default};
