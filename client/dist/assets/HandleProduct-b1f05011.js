import{a2 as f,u as j,E as S,r as l,b as C,j as e,W as D,_ as E,c as A,a3 as L,N as M,P as T}from"./index-1bee27aa.js";import{g as p,e as U,S as q,f as R,M as k}from"./Modal-4573d5d5.js";import"./CloseButton-4832f0e7.js";const w=()=>{var u,g,b;const[c]=f(),t=j(S),[n,o]=l.useState({seller_id:(u=t==null?void 0:t.Seller[0])==null?void 0:u.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""}),i=l.useCallback(r=>{const{name:h,value:d}=r.target;o(x=>({...x,[h]:d}))},[]),a=l.useMemo(()=>n,[n]),m=r=>{var h;r.preventDefault();try{const{seller_id:d,name:x,price:v,image:y,quantity:P,description:N,category_id:_}=n,F={seller_id:d,name:x,price:Number(v),image:y,quantity:P,description:N,category_id:_};c(F).unwrap(),o({seller_id:(h=t==null?void 0:t.Seller[0])==null?void 0:h.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""})}catch(d){console.log(d)}},s=(b=(g=j(C))==null?void 0:g.data)==null?void 0:b.categories;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Upload a Product"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(p,{name:"name",type:"text",value:a.name,onChange:i})]}),e.jsxs("label",{htmlFor:"price",children:["Price",e.jsx(p,{name:"price",type:"number",value:a.price,onChange:i})]}),e.jsxs("label",{htmlFor:"image",children:["Image",e.jsx(p,{name:"image",type:"text",value:a.image,onChange:i})]}),e.jsxs("label",{htmlFor:"description",children:["Description",e.jsx(D,{name:"description",type:"text",value:a.description,onChange:i,required:!0})]}),e.jsxs("select",{name:"category_id",id:"",onChange:i,value:a.category_id,children:[e.jsx("option",{value:"default",children:"Select a category"}),s==null?void 0:s.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx("button",{className:"btn-two",children:"Add Product"})]})]})},I=l.lazy(()=>E(()=>import("./UpdateProduct-04a33806.js"),["assets/UpdateProduct-04a33806.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),$=()=>{var a,m;const[c,t]=l.useState(null),n=(m=(a=j(A))==null?void 0:a.data)==null?void 0:m.products,[o]=L(),i=s=>{try{o(s).unwrap()}catch(u){console.log(u)}};return l.useEffect(()=>{document.title="Products List"}),e.jsx("div",{className:"admin-prods",children:e.jsxs("div",{className:"products-body",children:[e.jsxs("div",{className:"dash-head",children:[e.jsx("h2",{children:"Products List"}),e.jsxs("ul",{className:"admin-products-title",children:[e.jsx("li",{className:"title-name",children:"product name"}),e.jsx("li",{className:"title-price",children:"price"}),e.jsx("li",{className:"title-actions",children:"actions"})]}),e.jsx("ul",{className:"admin-products-body",children:n==null?void 0:n.map(s=>e.jsxs("li",{children:[e.jsx("div",{className:"details",children:e.jsx(M,{to:`/products/${s.id}`,children:e.jsx("p",{children:s.name})})}),e.jsxs("span",{children:["$",s.price]}),e.jsxs("div",{className:"buttons",children:[e.jsx(T,{buttonFn:()=>t(s),children:e.jsx(U,{})}),e.jsx(q,{buttonFn:()=>i(s==null?void 0:s.id),children:e.jsx(R,{})})]})]},s.id))})]}),e.jsxs("div",{className:"add-product",children:[e.jsx(w,{}),c&&e.jsx(k,{isOpen:c,onClose:()=>t(null),children:e.jsx(l.Suspense,{fallback:e.jsx("h1",{children:"Loading..."}),children:e.jsx(I,{product:c,closeFn:t})})})]})]})})};export{$ as default};
