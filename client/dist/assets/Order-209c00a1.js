import{v as g,f,u,E as j,m as D,r as v,L as C,j as t,M as O,C as E,D as _}from"./index-1bd465e3.js";const y=()=>{const l=g(),o=f(),h=u(j),m=u(D),d={address:""},[r,n]=v.useState(d),c=[];let i=0;m.forEach(e=>{let s=e.price*e.itemCount;i+=s;const a={product_id:e.id,quantity:e.itemCount,subtotal:parseFloat(s)};c.push(a)});const[p]=C(),x=e=>{e.preventDefault();const s={user_id:h.id,total_amount:i,order_detail_data:c,shipping_data:r};if(console.log(s),r.address)try{p(s).unwrap(),o(O()),n(d),l("/"),o(E("Order created successfully"))}catch(a){_(a.message),console.log(a)}};return t.jsxs("div",{children:[t.jsx("h2",{children:"Order Page"}),t.jsxs("form",{onSubmit:x,children:[t.jsxs("label",{htmlFor:"",children:["Enter your address:",t.jsx("input",{type:"text",name:"address",value:r.address,onChange:e=>n({...r,address:e.target.value}),required:!0})]}),t.jsx("button",{children:"Order now"})]})]})};export{y as default};
