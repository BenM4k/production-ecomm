import{j as s,P as h,N as u,r as d,v as p,f as N,u as o,s as v,E as g,F as f,H as b,I as S,D as _}from"./index-1bd465e3.js";import{d as E,S as y,e as L}from"./SecondaryButton-d9d51557.js";const $=({tab:a,setTab:e,handleLogout:l})=>{const i=["main","orders"];return s.jsxs("div",{className:"user-nav",children:[s.jsx("h2",{children:"Profile"}),s.jsx("ul",{children:i.map(t=>s.jsx("li",{children:s.jsx("button",{onClick:()=>e(t),className:`nav-btn ${a===t?"active":""}`,children:t})},t))}),s.jsx("div",{className:"logout-btn",children:s.jsx(h,{type:"button",buttonFn:l,children:"Logout"})})]})},P="/assets/watch_3-1325ce31.webp",R=({user:a})=>s.jsxs("div",{className:"user-details",children:[s.jsx("img",{src:P,alt:`${a.first_name}'s profile`}),s.jsxs("h2",{children:[a.first_name," ",a.last_name]}),s.jsx("p",{children:a.email}),s.jsxs(h,{children:[s.jsx(E,{}),"Edit"]})]}),T=({userOrders:a})=>s.jsxs("div",{className:"user-orders",children:[s.jsx("h2",{children:"My orders"}),s.jsx("ul",{children:a!=null&&a.length?a==null?void 0:a.map(e=>s.jsxs("li",{className:"order-list",children:[s.jsxs("div",{className:"order-id ",children:[s.jsx("h4",{children:"id"}),s.jsx(u,{to:`/orders/${e.id}`,children:e.id})]}),s.jsxs("div",{className:"order-address ",children:[s.jsx("h4",{children:"Address"}),s.jsx("p",{children:e.Shipping[0].address})]}),s.jsxs("div",{className:"order-track ",children:[s.jsx("h4",{children:"Tracking_number"}),s.jsx("p",{children:e.Shipping[0].tracking_number})]}),s.jsxs("div",{className:`order-status ${e.order_status.toLowerCase()}`,children:[s.jsx("h4",{children:"Status"}),s.jsx("p",{children:e.Shipping[0].status==="INPROGRESS"?"IN-PROGRESS":e.Shipping[0].status})]}),s.jsxs("div",{className:`order-status ${e.order_status.toLowerCase()}`,children:[s.jsx("h4",{children:"Payment"}),s.jsx("p",{children:e.order_status})]}),s.jsxs("div",{className:"order-total ",children:[s.jsx("h4",{children:"Total"}),s.jsxs("p",{children:["$",e.total_amount]})]}),s.jsx("div",{className:"buttons",children:s.jsx(y,{children:s.jsx(L,{})})})]},e==null?void 0:e.id)):s.jsx("h4",{className:"empty",children:"No available orders"})})]}),C=()=>{var r;const[a,e]=d.useState("main"),l=p(),i=N(),t=(r=o(v).data)==null?void 0:r.orders,n=o(g),x=t.filter(c=>c.user_id===n.id),[j]=f();d.useEffect(()=>{document.title=`${n.first_name} ${n.last_name}`});const m=async()=>{try{await j(),i(b()),l("/login"),i(S("Logged out"))}catch(c){i(_(c.message)),console.log(c)}};return s.jsx("div",{className:"profile",children:s.jsxs("div",{className:"profile-container",children:[s.jsx($,{tab:a,setTab:e,handleLogout:m}),a==="main"&&s.jsx(R,{user:n}),a==="orders"&&s.jsx(T,{userOrders:x})]})})};export{C as default};
