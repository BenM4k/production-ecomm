import{u as o,s as R,a as L,b as f,c as y,d as E,j as s,T as p,B as _,e as U,r as t,P as C,f as O,g as F,h as P,_ as m,i as w}from"./index-1bee27aa.js";import{s as B,F as v,a as b,b as g,c as N,u as S,d as T,e as A,S as D,f as k,M as I,U as H}from"./Modal-4573d5d5.js";import"./CloseButton-4832f0e7.js";const z=()=>{var h,d,j,u,e,l;const a=(h=o(R).data)==null?void 0:h.total,i=(d=o(L).data)==null?void 0:d.total,c=(j=o(f).data)==null?void 0:j.total,r=(u=o(B).data)==null?void 0:u.total,n=(e=o(y).data)==null?void 0:e.total,x=(l=o(E).data)==null?void 0:l.total;return s.jsxs("ul",{className:"content-header",children:[s.jsxs("li",{children:[s.jsx(v,{}),s.jsx("p",{children:r}),s.jsx("span",{children:"Users"})]}),s.jsxs("li",{children:[s.jsx(p,{}),s.jsx("p",{children:c}),s.jsx("span",{children:"Categories"})]}),s.jsxs("li",{children:[s.jsx(b,{}),s.jsx("p",{children:a}),s.jsx("span",{children:"Orders"})]}),s.jsxs("li",{children:[s.jsx(g,{}),s.jsx("p",{children:i}),s.jsx("span",{children:"Banners"})]}),s.jsxs("li",{children:[s.jsx(_,{}),s.jsx("p",{children:n}),s.jsx("span",{children:"Products"})]}),s.jsxs("li",{children:[s.jsx(N,{}),s.jsx("p",{children:x}),s.jsx("span",{children:"Reviews"})]})]})},V=({activeTab:a,setActiveTab:i})=>{const c=[{name:"Users",pic:s.jsx(v,{})},{name:"Categories",pic:s.jsx(p,{})},{name:"Orders",pic:s.jsx(b,{})},{name:"Banners",pic:s.jsx(g,{})},{name:"Products",pic:s.jsx(_,{})},{name:"Reviews",pic:s.jsx(N,{})}],r=n=>{i(n)};return s.jsx("div",{className:"nav-list",children:c.map(n=>s.jsxs("button",{onClick:()=>r(n==null?void 0:n.name.toLowerCase()),className:a===(n==null?void 0:n.name.toLowerCase())?"active":"",children:[n.pic,s.jsx("span",{children:n.name})]},n.name))})},M=()=>{const{data:a,isLoading:i,isError:c}=S(),r=a==null?void 0:a.users,[n]=T(),x=U(),[h,d]=t.useState(null),j=r==null?void 0:r.find(e=>e.id===h),u=async e=>{if(e.role==="ADMIN"){x(O("Can not delete an Administrator"));return}try{const l=await n(e.id);x(F(`User deleted ${e.first_name} ${e.last_name} successfully`))}catch(l){x(P(l.message))}};return t.useEffect(()=>{document.title="Users List"}),s.jsxs(s.Fragment,{children:[s.jsx("ul",{className:"user-list",children:r==null?void 0:r.map((e,l)=>s.jsxs("li",{className:"user",children:[s.jsxs("h4",{children:[e==null?void 0:e.first_name," - ",e.last_name]}),s.jsxs("ul",{className:"attributes",children:[s.jsxs("li",{children:["Reviews: ",e.Review.length]}),s.jsxs("li",{children:["Orders: ",e.Order.length]})]}),s.jsxs("div",{className:"buttons",children:[s.jsx(C,{buttonFn:()=>d(e.id),children:s.jsx(A,{})}),s.jsx(D,{buttonFn:()=>u(e),children:s.jsx(k,{})})]})]},l))}),h&&s.jsx(I,{isOpen:j,onClose:()=>d(null),children:s.jsx(H,{user:j,setId:d})})]})},G=t.lazy(()=>m(()=>import("./HandleBanner-60051128.js"),["assets/HandleBanner-60051128.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),Q=t.lazy(()=>m(()=>import("./HandleCategories-88a10210.js"),["assets/HandleCategories-88a10210.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),$=t.lazy(()=>m(()=>import("./HandleOrder-3617af24.js"),["assets/HandleOrder-3617af24.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),q=t.lazy(()=>m(()=>import("./HandleProduct-b1f05011.js"),["assets/HandleProduct-b1f05011.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),J=t.lazy(()=>m(()=>import("./HandleReviews-432d3a2c.js"),["assets/HandleReviews-432d3a2c.js","assets/index-1bee27aa.js","assets/index-4fd08268.css","assets/Modal-4573d5d5.js","assets/CloseButton-4832f0e7.js"])),Y=()=>{const[a,i]=t.useState(()=>"users"),{data:c}=w(),r=c==null?void 0:c.banners;return s.jsxs("div",{className:"admin-wrapper",children:[s.jsx(V,{activeTab:a,setActiveTab:i}),s.jsxs("div",{className:"content",children:[s.jsx(z,{}),s.jsxs("div",{className:"content-body",children:[a==="users"&&s.jsxs("div",{className:"admin-users",children:[s.jsx("div",{className:"dash-head",children:s.jsx("h2",{children:"Users List"})}),s.jsx(M,{})]}),a==="products"&&s.jsx(t.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:s.jsx(q,{})}),a==="categories"&&s.jsx("div",{className:"admin-cat",children:s.jsx(t.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:s.jsx(Q,{})})}),a==="banners"&&s.jsx("div",{className:"dash-banners",children:s.jsx(t.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:s.jsx(G,{banners:r})})}),a==="orders"&&s.jsxs("div",{className:"admin-orders",children:[s.jsx("div",{className:"dash-head",children:s.jsx("h2",{children:"Orders List"})}),s.jsx("div",{className:"orders",children:s.jsx(t.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:s.jsx($,{})})})]}),a==="reviews"&&s.jsx(s.Fragment,{children:s.jsx(t.Suspense,{fallback:s.jsx("h1",{children:"Loading..."}),children:s.jsx(J,{})})})]})]})]})};export{Y as default};
