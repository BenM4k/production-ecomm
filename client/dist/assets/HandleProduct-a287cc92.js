import{W as N,u as j,E as S,r as d,b as C,j as e,Q as D,_ as E,d as A,X as L,N as T,P as U}from"./index-1bd465e3.js";import{d as q,S as R,e as k}from"./SecondaryButton-d9d51557.js";import{F as p}from"./FirstInput-3d23c3a5.js";const w=()=>{var u,g,v;const[c]=N(),s=j(S),[n,o]=d.useState({seller_id:(u=s==null?void 0:s.Seller[0])==null?void 0:u.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""}),r=d.useCallback(i=>{const{name:h,value:l}=i.target;o(x=>({...x,[h]:l}))},[]),a=d.useMemo(()=>n,[n]),m=i=>{var h;i.preventDefault();try{const{seller_id:l,name:x,price:P,image:b,quantity:y,description:F,category_id:_}=n,f={seller_id:l,name:x,price:Number(P),image:b,quantity:y,description:F,category_id:_};c(f).unwrap(),o({seller_id:(h=s==null?void 0:s.Seller[0])==null?void 0:h.id,name:"",price:0,image:"",quantity:1,description:"",category_id:""})}catch(l){console.log(l)}},t=(v=(g=j(C))==null?void 0:g.data)==null?void 0:v.categories;return e.jsxs(e.Fragment,{children:[e.jsx("h2",{children:"Upload a Product"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("label",{htmlFor:"name",children:["Name",e.jsx(p,{name:"name",type:"text",value:a.name,onChange:r})]}),e.jsxs("label",{htmlFor:"price",children:["Price",e.jsx(p,{name:"price",type:"number",value:a.price,onChange:r})]}),e.jsxs("label",{htmlFor:"image",children:["Image",e.jsx(p,{name:"image",type:"text",value:a.image,onChange:r})]}),e.jsxs("label",{htmlFor:"description",children:["Description",e.jsx(D,{name:"description",type:"text",value:a.description,onChange:r,required:!0})]}),e.jsxs("select",{name:"category_id",id:"",onChange:r,value:a.category_id,children:[e.jsx("option",{value:"default",children:"Select a category"}),t==null?void 0:t.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]}),e.jsx("button",{className:"btn-two",children:"Add Product"})]})]})},I=d.lazy(()=>E(()=>import("./UpdateProduct-425c0192.js"),["assets/UpdateProduct-425c0192.js","assets/index-1bd465e3.js","assets/index-00592e80.css","assets/FirstInput-3d23c3a5.js","assets/CloseButton-fdeb85c9.js"])),$=()=>{var a,m;const[c,s]=d.useState(null),n=(m=(a=j(A))==null?void 0:a.data)==null?void 0:m.products,[o]=L(),r=t=>{try{o(t).unwrap()}catch(u){console.log(u)}};return d.useEffect(()=>{document.title="Products List"}),e.jsx("div",{className:"admin-prods",children:e.jsxs("div",{className:"products-body",children:[e.jsxs("div",{className:"dash-head",children:[e.jsx("h2",{children:"Products List"}),e.jsx("ul",{children:n==null?void 0:n.map(t=>e.jsxs("li",{children:[e.jsxs("div",{className:"details",children:[e.jsx(T,{to:`/products/${t.id}`,children:e.jsx("p",{children:t.name})}),e.jsxs("span",{children:["$",t.price]})]}),e.jsxs("div",{className:"buttons",children:[e.jsx(U,{buttonFn:()=>s(t),children:e.jsx(q,{})}),e.jsx(R,{buttonFn:()=>r(t==null?void 0:t.id),children:e.jsx(k,{})})]})]},t.id))})]}),e.jsx("div",{className:"add-product",children:c?e.jsx(d.Suspense,{fallback:e.jsx("h1",{children:"Loading..."}),children:e.jsx(I,{product:c,closeFn:s})}):e.jsx(w,{})})]})})};export{$ as default};
