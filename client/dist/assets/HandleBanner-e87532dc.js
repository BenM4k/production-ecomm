import{K as x,U as g,j as e,e as j,V as p,r as h,W as f,P as F,g as v,h as B}from"./index-4eddcbba.js";import{g as C,b as y,e as b}from"./Modal-55d8fc81.js";import"./CloseButton-9cc44bcb.js";function D(t){return x({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 4H8l-7 8 7 8h13a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z"}},{tag:"line",attr:{x1:"18",y1:"9",x2:"12",y2:"15"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"18",y2:"15"}}]})(t)}const E=g.memo(function({id:s,name:l,value:c,onChange:a,accept:i}){return e.jsx("input",{id:s,name:l,className:"first-input",type:"file",value:c,onChange:a,accept:i,required:!0})}),k=()=>{const t=j(),[s,{isLoading:l,isError:c}]=p(),[a,i]=h.useState({title:"",desc:"",image:null}),d=n=>{i({...a,[n.target.name]:n.target.value})},m=n=>{i({...a,image:n.target.files[0]})},u=n=>{n.preventDefault();const r=new FormData;r.append("title",a.title),r.append("desc",a.desc),r.append("image",a.image);try{s(r),i({title:"",desc:"",image:null}),t(v("Created Banner successfully"))}catch(o){t(B(o.message)),console.log(o)}};return l?e.jsx("div",{children:e.jsx("h1",{children:"Loading..."})}):c?e.jsx("div",{children:e.jsx("h1",{children:"Error creating banner"})}):e.jsxs("div",{children:[e.jsx("h2",{children:"AddBanner"}),e.jsxs("form",{onSubmit:u,children:[e.jsxs("label",{htmlFor:"title",children:["Title",e.jsx(C,{type:"text",name:"title",value:a.title,onChange:d})]}),e.jsxs("label",{htmlFor:"desc",children:["Description",e.jsx(f,{name:"desc",value:a.desc,onChange:d})]}),e.jsx("label",{htmlFor:"image",children:e.jsx(E,{name:"image",onChange:m,accept:"image/png, image/jpeg, image/webp"})}),e.jsx(F,{children:"Create banner"})]})]})},A=({banners:t})=>(h.useEffect(()=>{document.title="Banners List"}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dash-head",children:[e.jsx(y,{}),e.jsx("h2",{children:"Banners List"})]}),e.jsx("ul",{className:"admin-banners",children:t==null?void 0:t.map(s=>e.jsxs("li",{children:[e.jsx("img",{src:s.imageUrl,alt:s.title}),e.jsxs("div",{className:"admin-banner-desc",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.desc})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:()=>{},children:e.jsx(D,{})}),e.jsx("button",{onClick:()=>{},children:e.jsx(b,{})})]})]},s.title))}),e.jsx("div",{className:"add-banner",children:e.jsx(k,{})})]}));export{A as default};
