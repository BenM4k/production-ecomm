import{t as g,f,u,D as j,m as D,r as O,K as v,j as t,L as y,z as C,C as _}from"./index-1d193954.js";const E=()=>{const l=g(),o=f(),h=u(j),m=u(D),d={address:""},[r,n]=O.useState(d),c=[];let i=0;m.forEach(e=>{let s=e.price*e.itemCount;i+=s;const a={product_id:e.id,quantity:e.quantity,subtotal:parseFloat(s)};c.push(a)});const[p]=v(),x=e=>{e.preventDefault();const s={user_id:h.id,total_amount:i,order_detail_data:c,shipping_data:r};if(console.log(s),r.address)try{p(s).unwrap(),o(y()),n(d),l("/"),o(C("Order created successfully"))}catch(a){_(a.message),console.log(a)}};return t.jsxs("div",{children:[t.jsx("h2",{children:"Order Page"}),t.jsxs("form",{onSubmit:x,children:[t.jsxs("label",{htmlFor:"",children:["Enter your address:",t.jsx("input",{type:"text",name:"address",value:r.address,onChange:e=>n({...r,address:e.target.value}),required:!0})]}),t.jsx("button",{children:"Order now"})]})]})};export{E as default};
