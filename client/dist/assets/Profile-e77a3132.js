import{t as o,f as x,u as a,s as j,D as u,E as m,j as s,N as g,F as p,H as f,C as N}from"./index-1d193954.js";const _=()=>{var l;const n=o(),i=x(),c=(l=a(j).data)==null?void 0:l.orders,r=a(u),t=c.filter(e=>e.user_id===r.id),{refetch:d}=m(),h=async()=>{try{await d(),i(p()),n("/login"),i(f("Logged out"))}catch(e){i(N(e.message)),console.log(e)}};return s.jsxs("div",{children:[s.jsx("h1",{children:"Profile"}),s.jsx("h3",{children:r.first_name}),s.jsx("h3",{children:r.last_name}),s.jsx("h3",{children:r.email}),s.jsx("button",{type:"button",onClick:h,children:"Logout"}),s.jsxs("div",{className:"user-orders",children:[s.jsx("h2",{children:"My orders"}),s.jsx("ul",{children:t.length?t==null?void 0:t.map(e=>s.jsxs("li",{className:"order-list",children:[s.jsxs("div",{className:"order-id flex-center",children:[s.jsx("h4",{children:"id"}),s.jsx(g,{to:`/order/${e.id}`,children:e.id})]}),s.jsxs("div",{className:"order-address flex-center",children:[s.jsx("h4",{children:"Address"}),s.jsx("p",{children:e.Shipping[0].address})]}),s.jsxs("div",{className:"order-address flex-center",children:[s.jsx("h4",{children:"Tracking_number"}),s.jsx("p",{children:e.Shipping[0].tracking_number})]}),s.jsxs("div",{className:"order-status flex-center",children:[s.jsx("h4",{children:"Status"}),s.jsx("p",{children:e.order_status})]}),s.jsxs("div",{className:"order-total flex-center",children:[s.jsx("h4",{children:"Total"}),s.jsxs("p",{children:["$",e.total_amount]})]})]},e==null?void 0:e.id)):s.jsx("h4",{children:"No available orders"})})]})]})};export{_ as default};
