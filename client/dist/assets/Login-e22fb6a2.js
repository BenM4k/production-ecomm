import{r as n,v as w,w as v,a as f,x as S,y as b,u as y,j as e,z as L}from"./index-3b0101c3.js";const q=()=>{var u,d;const[r,o]=n.useState(""),[i,l]=n.useState(""),[p,t]=n.useState(null),g=w(),h=((d=(u=v().state)==null?void 0:u.from)==null?void 0:d.pathname)||"/",c=f(S),[m,{isLoading:E,error:D}]=b(),x=y(),j=async a=>{a.preventDefault();try{const s=await m({email:r,password:i}).unwrap();x(L({...s,email:r})),o(""),l(""),t(""),g(h,{replace:!0})}catch(s){s.data?s.data.message?t(s.data.message):s.data.type?t("Add valid email and/or password"):t("Something went wrong"):t("No server response")}};return e.jsxs(e.Fragment,{children:[e.jsx("h1",{children:"Login"}),e.jsx("h3",{children:c||""}),e.jsxs("form",{onSubmit:j,children:[e.jsx("h3",{children:p}),e.jsx("label",{children:"email"}),e.jsx("input",{type:"text",value:r,onChange:a=>o(a.target.value),required:!0}),e.jsx("label",{htmlFor:"",children:"password"}),e.jsx("input",{type:"password",onChange:a=>l(a.target.value),value:i,required:!0}),e.jsx("button",{children:"Sign in"}),e.jsx("br",{})]})]})};export{q as default};
